{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst day = document.querySelector(\"span[data-days]\");\nconst hour = document.querySelector(\"span[data-hours]\");\nconst minute = document.querySelector(\"span[data-minutes]\");\nconst second = document.querySelector(\"span[data-seconds]\");\n\nconst input = document.querySelector(\"#datetime-picker\");\nconst btnStart = document.querySelector(\"button\");\nbtnStart.addEventListener(\"click\", startTimer);\n\nbtnStart.disabled = true;\nlet userSelectedDate;\nconst fp = flatpickr(input, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate < Date.now()) {\n               iziToast.show({\n                   message: 'Please choose a date in the future',\n                   position: 'topRight',\n               });\n            btnStart.disabled = true;\n            } else {\n            btnStart.disabled = false;\n          };\n       },\n    });\nlet isActive = false;\n\n   \n   function startTimer() {\n    if (isActive) {\n        return;\n    } \n       isActive = true;\n       input.disabled = true;\n       setInterval(() => {\n           const currentDate = new Date();\n           const delatTime = userSelectedDate - currentDate;\n           const time = convertMs(delatTime);\n          \n            day.textContent = `${addLeadingZero(time.days)}`;\n          hour.textContent = `${addLeadingZero(time.hours)}`;\n          minute.textContent = `${addLeadingZero(time.minutes)}`;\n           second.textContent = `${addLeadingZero(time.seconds)}`;\n           btnStart.disabled = true;\n           if (delatTime <= 0) {\n               day.textContent = `00`;\n          hour.textContent = `00`;\n          minute.textContent = `00`;\n               second.textContent = `00`;\n               \n            \n           }\n       }, 1000); \n\n\n};\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, \"0\");\n}\n\nfunction convertMs(ms) {\n  // Кількість мілісекунд за одиницю часу\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // дні, що залишилися\n  const days = Math.floor(ms / day);\n  //  часи, що залишилися\n  const hours = Math.floor((ms % day) / hour);\n  // хвилини, що залишилися\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // секунди, що залишилися\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\n\n\n\n"],"names":["day","hour","minute","second","input","btnStart","startTimer","userSelectedDate","flatpickr","selectedDates","iziToast","isActive","delatTime","time","convertMs","addLeadingZero","value","ms","days","hours","minutes","seconds"],"mappings":"2FAKA,MAAMA,EAAM,SAAS,cAAc,iBAAiB,EAC9CC,EAAO,SAAS,cAAc,kBAAkB,EAChDC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAS,SAAS,cAAc,oBAAoB,EAEpDC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,QAAQ,EAChDA,EAAS,iBAAiB,QAASC,CAAU,EAE7CD,EAAS,SAAW,GACpB,IAAIE,EACOC,EAAUJ,EAAO,CACxB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQK,EAAe,CACnBF,EAAmBE,EAAc,CAAC,EAC9BF,EAAmB,KAAK,OACrBG,EAAS,KAAK,CACV,QAAS,qCACT,SAAU,UAC7B,CAAgB,EACJL,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAExB,CACR,CAAK,EACL,IAAIM,EAAW,GAGZ,SAASL,GAAa,CACjBK,IAGDA,EAAW,GACXP,EAAM,SAAW,GACjB,YAAY,IAAM,CAEd,MAAMQ,EAAYL,EADE,IAAI,KAElBM,EAAOC,EAAUF,CAAS,EAE/BZ,EAAI,YAAc,GAAGe,EAAeF,EAAK,IAAI,CAAC,GAChDZ,EAAK,YAAc,GAAGc,EAAeF,EAAK,KAAK,CAAC,GAChDX,EAAO,YAAc,GAAGa,EAAeF,EAAK,OAAO,CAAC,GACnDV,EAAO,YAAc,GAAGY,EAAeF,EAAK,OAAO,CAAC,GACpDR,EAAS,SAAW,GAChBO,GAAa,IACbZ,EAAI,YAAc,KACvBC,EAAK,YAAc,KACnBC,EAAO,YAAc,KAChBC,EAAO,YAAc,KAI5B,EAAE,GAAI,EAGd,CACA,SAASY,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASF,EAAUG,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}